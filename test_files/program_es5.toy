

proc calcolaProdotto(float n1,n2) float:
    int i:=0;
    float temp:=0.0;
    while i<n2 do
        temp:= temp+n1;
        i:=i+1;
    od;
    -> temp
corp;

proc calcolaEsponente(float n1, n2) float:
    int i:=0;
    float temp:=0.0;
    float num2:=1;

    while i< n2 do
        temp:=temp + calcolaProdotto(n1,num2);
        i:=i+1;
    od;
    -> temp
corp;

proc succFibonacci(float n1) float:
    float fib:=0.0, fib1, fib2, i;

    if n1=0 || n1=1 then
        fib:=1;
    else
        fib1:=1;
        fib2:=2;
        i:=1;
        while i<n1 do
            fib:=fib1+fib2;
            i:=i+1;
            fib2:=fib1;
            fib1:=fib;
        od;
    fi;
    -> fib
corp;


proc calcola(int n; float num1, num2) float:
    float result:=0.0;

    if n=1 then
        result:= num1+num2;

    elif n=2 then
        result:= calcolaProdotto(num1,num2);

    elif n=3 then
        if num1 < 1 then
            write("Numero inserito non positivo non si può fare la divisione");
            result:= 0.0;
        elif num2 < 1 then
            write("Numero inserito non positivo non si può fare la divisione");
            result:= 0.0;
        else
            result:= num1/num2;
        fi;

    elif n=4 then
        if num2 < 0 then
            write("Numero inserito non positivo non si può fare la elevazione");
            result:= 0.0;
        else
            result:= calcolaEsponente(num1,num2);
        fi;

    elif n=5 then
        result:=succFibonacci(num1);
    fi;

    -> result
corp;


proc main () void:


    int operazione, n:=1;
    float num1,num2,result;
    bool flag :=true;


        while flag do
            if n <> 0 then
                write("Scegli operazione aritmetrica: \n");
                write("\n 1 = somma, 2 = moltiplicazione, 3 = divisione, 4 = elevamento a potenza, 5 = successione di Fibonacci\n\n");
                readln(operazione);

                if operazione >=1 && operazione <5 then

                    write("\n Inserisci il primo numero: \n");
                    readln(num1);
                    write("\n Inserisci il secondo numero: \n");
                    readln(num2);

                    write("Risultato è: ",calcola(operazione,num1,num2));

                elif operazione =5 then
                    write("\n Inserisci il primo numero: \n");
                    readln(num1);
                    write("Risultato è: ",calcola(operazione,num1,num1));

                else
                    write("\tNumero inserito non valido\n");
                    n:=0;
                    flag:= false;
                fi;

                write("\t\t FINE \n\n");
            fi;
        od;
    ->
corp;
